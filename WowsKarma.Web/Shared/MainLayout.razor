@namespace WowsKarma.Web.Shared
@using WowsKarma.Web.Shared.Components.CircuitBreaker

@inherits LayoutComponentBase
@inject NavigationManager NavigationManager


<header>
	<Navbar CurrentUri=@(NavigationManager.Uri) />
</header>

<div class="container" style="margin-top: 100px !important">
	<div id="psa-header" role="alert" class="mb-5">
		<AnnouncementHeader />
	</div>
	
	<main role="main">
		<CircuitBreakerSection @key="_breakerSection">
			<ChildContent>
				@Body
			</ChildContent>
			
			<ErrorContent>
				<h3 class="text-danger">An error occurred within this page. Please try again later.</h3>
			</ErrorContent>
		</CircuitBreakerSection>
	</main>
</div>

<Footer />

@code {

	CircuitBreakerSection _breakerSection { get; set; } = new();

	protected override void OnParametersSet()
	{
		_breakerSection = new();
		base.OnParametersSet();
	}

}